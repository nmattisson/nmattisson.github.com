/*! jQuery Flickr - 2013-12-27
* https://github.com/nmattisson
* Copyright (c) 2013 Nils Mattisson - MIT License */
!function(e){function t(e){var t;if(null==e.user_id||null==e.api_key)throw"You must provide an api_key and a user_id.";return""==e.photoset_id?(t="https://secure.flickr.com/services/rest/?method=flickr.photosets.getList",t+="&api_key="+e.api_key,t+="&user_id="+e.user_id,t+="&format=json&jsoncallback=?"):(t="https://secure.flickr.com/services/rest/?method=flickr.photosets.getPhotos",t+="&photoset_id="+e.photoset_id,t+="&api_key="+e.api_key,t+="&user_id="+e.user_id,t+="&format=json&jsoncallback=?"),t}e.fn.getPhotoURL=function(e,t){var r;switch(!0){case 100>=t:r="_t";break;case t>100&&240>=t:r="_m";break;case t>240&&320>=t:r="_n";break;case t>320&&500>=t:r="";break;case t>500&&640>=t:r="_z";break;case t>640&&800>=t:r="_c";break;default:r="_b"}return"string"==typeof e?"_"==e.charAt(e.length-6)?e.replace(e.slice(-6,-4),r):e.substr(0,e.length-4)+r+e.substr(e.length-4):(photo_id=void 0!==e.primary?e.primary:e.id,photoURL="https://farm"+e.farm+".static.flickr.com/"+e.server+"/"+photo_id+"_"+e.secret+r+".jpg")},e.fn.getFlickrURL=function(t){var r;if("string"==typeof t){var i=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf("."));r=i.substring(0,i.indexOf("_"))}else r=void 0!==t.primary?t.primary:t.id;return flickrURL="https://www.flickr.com/photos/"+e.fn.flickr.settings.username+"/"+r},e.fn.flickr=function(r){var i=this;e.fn.flickr.settings=r;var s=t(r);return e.getJSON(s,function(e){i.trigger("didLoadFlickr",e)}),this.trigger("willLoadFlickr",r),this},e.fn.flickr.settings={user_id:null,api_key:null,photoset_id:null,username:null}}(jQuery);
